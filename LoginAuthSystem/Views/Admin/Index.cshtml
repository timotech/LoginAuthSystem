@model IEnumerable<LoginAuthSystem.Models.PostSetup>
@{
    ViewBag.Title = "Dashboard";
    ViewBag.Description = "Manage Your Posts";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}


<!--Website Overview-->
<div class="panel panel-default">
    <div class="panel-heading main-color-bg">
        <h3 class="panel-title">Portal Overview</h3>
    </div>
    <div class="panel-body">
        <div class="col-md-3">
            <div class="well dash-box">
                <h2><span class="glyphicon glyphicon-user" aria-hidden="true"></span> 203</h2>
                <h4>Users</h4>
            </div>
        </div>
        <div class="col-md-3">
            <div class="well dash-box">
                <h2><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span> 12</h2>
                <h4>Roles</h4>
            </div>
        </div>
        <div class="col-md-3">
            <div class="well dash-box">
                <h2><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> 33</h2>
                <h4>Posts</h4>
            </div>
        </div>
        <div class="col-md-3">
            <div class="well dash-box">
                <h2><span class="glyphicon glyphicon-stats" aria-hidden="true"></span> 12,334</h2>
                <h4>Visitors</h4>
            </div>
        </div>
    </div>
</div>

<!-- Latest users-->
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Latest Posts</h3>
    </div>
    <div class="panel-body">
        <table class="table table-striped">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Title)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Description)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PicPath)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DateAdded)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                using (Html.BeginForm("DeletePost", "Admin", new { id = item.ID }))
                {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Title)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>
                    <td>
                        <img src="@Url.Content(item.PicPath)" alt="Post Image" class="img-responsive" style="float:left; margin-right:15px;" />
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DateAdded)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "EditPost", new { id = item.ID }) |
                        @Html.ActionLink("Details", "PostDetails", new { id = item.ID }) |
                        <input type="submit" value="Delete" onclick="return confirm('Are you sure you want to delete the post with id = @item.ID')" />
                    </td>
                </tr>
                }
            }

        </table>

    </div>
</div>
